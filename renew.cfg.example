# Let's Encrypt ESXi Configuration File
# Copy this file to renew.cfg and customize as needed

# =============================================================================
# REQUIRED SETTINGS (DNS-01 only)
# =============================================================================
# Challenge type: "http-01" or "dns-01" (default: "http-01")
CHALLENGE_TYPE="http-01"

# DNS Provider: "cloudflare", "route53", or "manual" (required for DNS-01)
DNS_PROVIDER=""

# Cloudflare API Token (required for Cloudflare DNS-01)
# Create at: https://dash.cloudflare.com/profile/api-tokens
# Permissions needed: Zone:Edit for your domain
CF_API_TOKEN=""

# AWS Route53 credentials (required for Route53 DNS-01)
# Create IAM user with Route53:ChangeResourceRecordSets permissions
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
AWS_DEFAULT_REGION="us-east-1"

# =============================================================================
# OPTIONAL SETTINGS (DNS-01 only)
# =============================================================================
# DNS propagation wait time in seconds (default: 30)
# Increase if DNS changes take longer to propagate in your environment
DNS_PROPAGATION_WAIT=30

# =============================================================================
# OPTIONAL SETTINGS (both HTTP-01 and DNS-01)
# =============================================================================
# Let's Encrypt server URL (default: production)
# Uncomment below line for staging/testing (issues test certificates)
#DIRECTORY_URL="https://acme-staging-v02.api.letsencrypt.org/directory"
DIRECTORY_URL="https://acme-v02.api.letsencrypt.org/directory"

# Certificate renewal interval in days (default: 30)
# Certificates are renewed this many days before expiration
RENEW_DAYS=30

# Domain name for certificate (default: uses ESXi hostname)
# Override only if hostname doesn't match desired certificate domain
DOMAIN=$(hostname -f)

# =============================================================================
# ADVANCED SETTINGS (rarely need to change)
# =============================================================================
# File paths for certificates and keys
# Override only if you need custom file locations
ACCOUNTKEY="esxi_account.key"
KEY="esxi.key"
CSR="esxi.csr"
CRT="esxi.crt"
VMWARE_CRT="/etc/vmware/ssl/rui.crt"
VMWARE_KEY="/etc/vmware/ssl/rui.key"
